{% extends "classnest_Base/base_generic.html" %}
{% block title %} Inbox {% endblock %}

{% block content %}
<div class="container">
  <div class="inbox-header">
    <h2><i class="fa-solid fa-envelope-open"></i>&nbsp;Inbox</h2>
    <a href="{% url 'send-message' %}" class="compose-btn">
      <i class="fa-solid fa-pencil"></i>&nbsp;Compose</a>
  </div>

  {% if messages %}
    <ul class="message-list">
        {% for message in messages %}
            <li class="{% if not message.is_read %}unread{% endif %}">
                <a href="{% url 'message-detail' message.id %}">
                    <strong>{{ message.sender.username }}</strong>: {{ message.subject }}
                    <small>{{ message.timestamp }}</small>
                </a>
            </li>
        {% endfor %}
    </ul>
  {% else %}
    <p>No messages yet.</p>
  {% endif %}
</div>
{% endblock %}
