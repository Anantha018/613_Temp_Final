{% extends "classnest_Base/base_generic.html" %}
{% load static %}
{% block title %}Profile{% endblock %}

{% block content %}
  <!-- Display Messages -->
  {% if messages %}
  <div class="messages-container">
    {% for message in messages %}
      <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}

  <!-- Profile Content -->
  <div class="profile-container card">
    <form method="POST" action="{% url 'profile' %}">
      {% csrf_token %}
      <div class="profile-section">
        <h3 class="profile-heading"><i class="fa-solid fa-user"></i> Account Settings</h3><br>

        <!-- Update Email -->
        <h3><i class="fa-solid fa-envelope"></i> Update Email</h3>
        <label for="email">New Email Address:</label>
        <input type="email" id="email" name="email" value="{{ current_email }}" required>
        
        <!-- Update Social Links -->
        <h3><i class="fa-solid fa-link"></i> Social Links</h3>
        <label for="github"><i class="fa-brands fa-github"></i>&nbsp;GitHub:</label>
        <input type="url" id="github" name="github" value="{{ github_link }}" placeholder="https://github.com/yourprofile">

        <label for="linkedin"><i class="fa-brands fa-linkedin"></i>&nbsp;LinkedIn:</label>
        <input type="url" id="linkedin" name="linkedin" value="{{ linkedin_link }}" placeholder="https://linkedin.com/in/yourprofile">

        <button type="submit" class="save-btn"><i class="fa-solid fa-floppy-disk"></i>&nbsp;Save Changes</button>
      </div>
    </form>

    <!-- Change Password Section -->
    <div class="profile-section">
      <p class="change-password-text">
        <i class="fa-solid fa-question-circle"></i> 
        Want to change your password? 
        <a href="{% url 'password_change' %}" class="change-password-link">Click here</a> to update it.
      </p>
    </div>
  </div>
{% endblock %}
